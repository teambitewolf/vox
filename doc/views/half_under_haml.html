<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>half_under.haml - RDoc Documentation</title>

<link href="../fonts.css" rel="stylesheet">
<link href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/navigation.js"></script>
<script src="../js/search_index.js"></script>
<script src="../js/search.js"></script>
<script src="../js/searcher.js"></script>
<script src="../js/darkfish.js"></script>


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../Gemfile.html">Gemfile</a>
  
    <li><a href="../Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../LICENSE.html">LICENSE</a>
  
    <li><a href="../README_md.html">README</a>
  
    <li><a href="../config_ru.html">config.ru</a>
  
    <li><a href="../views/add_haml.html">add.haml</a>
  
    <li><a href="../views/add_before_haml.html">add_before.haml</a>
  
    <li><a href="../views/add_under_haml.html">add_under.haml</a>
  
    <li><a href="../views/error_haml.html">error.haml</a>
  
    <li><a href="../views/half_under_haml.html">half_under.haml</a>
  
    <li><a href="../views/layout_haml.html">layout.haml</a>
  
    <li><a href="../views/login_haml.html">login.haml</a>
  
    <li><a href="../views/move_haml.html">move.haml</a>
  
    <li><a href="../views/new_haml.html">new.haml</a>
  
    <li><a href="../views/ordered_haml.html">ordered.haml</a>
  
    <li><a href="../views/user_haml.html">user.haml</a>
  
    <li><a href="../views/vox_haml.html">vox.haml</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page views/half_under.haml">

<p>:javascript</p>

<pre>$(document).ready(function() {
  var audio = $(&#39;#player&#39;).get(0);
  var bar   = $(&#39;.bar&#39;);

  $(audio).bind(&#39;timeupdate&#39;, function() {
    $(&#39;.pbar&#39;).width(((audio.currentTime * 100) / (audio.duration * 100)) * bar.width());
  });

  $(&quot;#ptog&quot;).click(function() {
    if (audio.paused) {
      $(&#39;#ptog&#39;).html(&#39;pause&#39;);
      audio.play();
    } else {
      $(&#39;#ptog&#39;).html(&#39;play&#39;);
      audio.pause();
    }
  });
});</pre>
<ul><li>
<p>if @vc.collaborators.include? current_user %a{href: “/vox/#{@vc.id}/add”}
append</p>

<h1 id="label-%22+%7C+%22">“ | ”<span><a href="#label-%22+%7C+%22">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<p>%a{href: “/vox/#{@vc.id}/layer”} layer</p>
</li></ul>

<p>%h1= @vc.title %h2= @vc.comment %h3= @vc.time / 1000.00 %h3=
@vc.creator.handle %h1#ptog play /.markers{style:
&#39;height:20px;width:100%&#39;} .bar{style:
&#39;background-color:black;height:20px;width:100%;&#39;}</p>

<pre>%span#start_time_disp{style: &#39;color:white;margin-left:20px;&#39;} 0:00
%span#end_time_disp{style: &#39;color:white;float:right;margin-right:20px;&#39;} ?:??</pre>

<p>.pbar{style: &#39;background-color:red;height:20px;width:5px;&#39;}
%audio#player</p>

<pre>%source{src: &quot;/vox/#{@vc.id}/track&quot;}</pre>

<p>%p</p>

<pre class="ruby"><span class="ruby-operator">-</span><span class="ruby-ivar">@vc</span>.<span class="ruby-identifier">layers</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">layer</span><span class="ruby-operator">|</span>
  <span class="ruby-operator">%</span><span class="ruby-identifier">iv</span>
    <span class="ruby-operator">%</span><span class="ruby-identifier">l</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>= <span class="ruby-node">&quot;comment: #{layer.vox.comment}&quot;</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>= <span class="ruby-node">&quot;created by: #{layer.vox.user.handle}&quot;</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>= <span class="ruby-node">&quot;volume: #{layer.volume}&quot;</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>= <span class="ruby-node">&quot;start: #{layer.start &amp;&amp; layer.start.comment}&quot;</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>= <span class="ruby-node">&quot;end: #{layer.end &amp;&amp; layer.end.comment}&quot;</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>
        <span class="ruby-operator">%</span><span class="ruby-identifier">orm</span>{<span class="ruby-identifier">action</span><span class="ruby-operator">:</span> <span class="ruby-node">&quot;/vox/#{@vc.id}/delete&quot;</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;post&#39;</span>}
          <span class="ruby-operator">%</span><span class="ruby-identifier">nput</span>{<span class="ruby-identifier">type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;hidden&#39;</span>, <span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;vox_id&#39;</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">vox</span>.<span class="ruby-identifier">id</span>}
          <span class="ruby-operator">%</span><span class="ruby-identifier">utton</span>{<span class="ruby-identifier">type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;submit&#39;</span>} <span class="ruby-identifier">delete</span>
</pre>

<p>%p</p>

<pre class="ruby"><span class="ruby-operator">-</span> <span class="ruby-ivar">@vc</span>.<span class="ruby-identifier">voxes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vox</span><span class="ruby-operator">|</span>
  <span class="ruby-operator">-</span> <span class="ruby-identifier">starts_at</span> = <span class="ruby-ivar">@vc</span>.<span class="ruby-identifier">breaks</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">b</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">vox</span>.<span class="ruby-identifier">id</span>}.<span class="ruby-identifier">first</span>[<span class="ruby-value">1</span>]
  <span class="ruby-operator">%</span><span class="ruby-identifier">iv</span>
    <span class="ruby-operator">%</span><span class="ruby-identifier">l</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>
        <span class="ruby-operator">%</span>{<span class="ruby-identifier">href</span><span class="ruby-operator">:</span> <span class="ruby-node">&quot;/vox/#{@vc.id}/add_before/#{vox.id}&quot;</span>} <span class="ruby-identifier">add</span> <span class="ruby-identifier">here</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>
        <span class="ruby-operator">%</span>{<span class="ruby-identifier">href</span><span class="ruby-operator">:</span> <span class="ruby-node">&quot;/vox/#{@vc.id}/move/#{vox.id}&quot;</span>} <span class="ruby-identifier">move</span>
      <span class="ruby-operator">-</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@vc</span>.<span class="ruby-identifier">comes_before?</span>(<span class="ruby-identifier">vox</span>, <span class="ruby-ivar">@start</span>)
        <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>
          <span class="ruby-operator">%</span>{<span class="ruby-identifier">href</span><span class="ruby-operator">:</span> <span class="ruby-node">&quot;/vox/#{@vc.id}/add_under/#{@start.id}/#{vox.id}&quot;</span>} <span class="ruby-keyword">end</span> <span class="ruby-identifier">layer</span> <span class="ruby-identifier">here</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>= <span class="ruby-node">&quot;comment: #{vox.comment}&quot;</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>= <span class="ruby-node">&quot;created by: #{vox.user.handle}&quot;</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>= <span class="ruby-node">&quot;time: #{vox.time / 1000.00}&quot;</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>= <span class="ruby-node">&quot;starts at: #{starts_at}&quot;</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>= <span class="ruby-node">&quot;previous: #{vox.pre &amp;&amp; vox.pre.comment}&quot;</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>= <span class="ruby-node">&quot;next: #{vox.nex &amp;&amp; vox.nex.comment}&quot;</span>
      <span class="ruby-operator">%</span><span class="ruby-identifier">i</span>
        <span class="ruby-operator">%</span><span class="ruby-identifier">orm</span>{<span class="ruby-identifier">action</span><span class="ruby-operator">:</span> <span class="ruby-node">&quot;/vox/#{@vc.id}/delete&quot;</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;post&#39;</span>}
          <span class="ruby-operator">%</span><span class="ruby-identifier">nput</span>{<span class="ruby-identifier">type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;hidden&#39;</span>, <span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;vox_id&#39;</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">vox</span>.<span class="ruby-identifier">id</span>}
          <span class="ruby-operator">%</span><span class="ruby-identifier">utton</span>{<span class="ruby-identifier">type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;submit&#39;</span>} <span class="ruby-identifier">delete</span>
</pre>

<p>-# :javascript -#   $(&#39;.markers&#39;).append(&#39;&lt;div
style=“display:inline-block;background-color:black;width:10px;height:20px;margin:0
0 0 320px;”&gt;&#39;);</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

